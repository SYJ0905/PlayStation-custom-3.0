(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-299a8ab4"],{"12ae":function(t,a,e){t.exports=e.p+"img/loading.0f6ddb71.gif"},"5f47":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"main"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("img",{attrs:{src:e("12ae"),alt:"",width:"200"}})]),s("div",{staticClass:"container productDetail mb-3"},[s("nav",{attrs:{"aria-label":"breadcrumb "}},[s("ol",{staticClass:"breadcrumb px-0"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/index"}},[t._v("首頁")])],1),s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/products"}},[t._v("商品")])],1),s("li",{staticClass:"breadcrumb-item"},[t._v(t._s(t.product.category))]),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8"},[s("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl,alt:"image"}})]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"prodInfo addCart"},[s("h4",{staticClass:"font-weight-bold"},[t._v(t._s(t.product.title))]),s("div",{staticClass:"d-flex justify-content-between align-items-center py-3"},[t.product.price?t._e():s("div",[t._v(t._s(t._f("currency")(t.product.origin_price)))]),t.product.price?s("del",{staticClass:"text-muted"},[t._v("原價"+t._s(t._f("currency")(t.product.origin_price)))]):t._e(),t.product.price?s("div",{staticClass:"h5 text-danger mb-0"},[t._v("特價"),s("strong",[t._v(t._s(t._f("currency")(t.product.price)))])]):t._e()]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.product.buyNum,expression:"product.buyNum"}],staticClass:"form-control mb-3",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.product,"buyNum",a.target.multiple?e:e[0])}}},[s("option",{attrs:{value:"0",selected:"",disabled:""}},[t._v("請選擇商品數量")]),t._l(10,function(a){return s("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])})],2),s("div",{staticClass:"text-right font-weight-bold mb-1 total-price"},[t._v("\n            小計 "+t._s(t._f("currency")(t.product.price*t.product.buyNum))+"\n          ")]),s("button",{staticClass:"btn btn-warning w-100 text-primary font-weight-bold",on:{click:function(a){return a.preventDefault(),t.addCart(t.product.id,t.product.buyNum)}}},[t.status.loading?s("i",{staticClass:"fas fa-spinner fa-spin"}):s("i",{staticClass:"fas fa-plus"}),t._v("\n            加入購物車\n          ")])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"prodInfo px-0"},[s("h3",[t._v("產品描述")]),s("p",[t._v("\n            "+t._s(t.product.description)+"\n          ")])])]),s("div",{staticClass:"col-md-12"},[s("h3",{staticClass:"page_title"},[t._v("同類型遊戲")]),s("ProdSlider",{attrs:{prodCategory:t.product.category}})],1),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"goBack text-right"},[s("a",{staticClass:"btn btn-info text-white mt-2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goBack(a)}}},[t._v("Back")])])])])])],1)},i=[],c=e("efe1"),r={components:{ProdSlider:c["a"]},data:function(){return{isLoading:!1,productId:"",product:{},status:{loading:!1}}},methods:{getProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("cloudsu","/product/").concat(t.productId);t.isLoading=!0,this.$http.get(a).then(function(a){console.log(a.data),t.product=a.data.product,t.$set(t.product,"buyNum",1),t.isLoading=!1})},addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this;if(0==a)alert("請選擇商品數量");else{e.status.loading=!0;var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("cloudsu","/cart"),i={product_id:t,qty:a};this.$http.post(s,{data:i}).then(function(t){console.log(t.data),t.data.success&&(e.$bus.$emit("shopCart:update"),e.$bus.$emit("message:push","【".concat(t.data.data.product.title,"】").concat(t.data.data.qty," ").concat(t.data.data.product.unit," ").concat(t.data.message),"success")),e.status.loading=!1})}},goBack:function(){this.$router.back()}},created:function(){this.productId=this.$route.params.productId,this.getProduct(),document.body.scrollTop=350,document.documentElement.scrollTop=350}},o=r,n=e("2877"),d=Object(n["a"])(o,s,i,!1,null,null,null);a["default"]=d.exports},a522:function(t,a,e){},e4fe:function(t,a,e){"use strict";var s=e("a522"),i=e.n(s);i.a},e915:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card mt-0 bg-white rounded-0 prod-card"},[e("div",{staticClass:"product-img",staticStyle:{"padding-bottom":"55%","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+t.cardData.imageUrl+")"}}),e("div",{staticClass:"card-body"},[e("div",{staticClass:"prod-info mb-3"},[e("h5",{staticClass:"card-title mb-3 font-weight-bold text-truncate"},[t._v(t._s(t.cardData.title))]),e("p",{staticClass:"card-text"},[t._v(t._s(t.cardData.description))])]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.cardData.price?t._e():e("div",{staticClass:"h5"},[t._v(t._s(t._f("currency")(t.cardData.origin_price))+"元")]),t.cardData.price?e("del",{staticClass:"font-italic"},[t._v("原價 "+t._s(t._f("currency")(t.cardData.origin_price)))]):t._e(),t.cardData.price?e("div",{staticClass:"h5 text-danger font-weight-bold"},[t._v("售價 "+t._s(t._f("currency")(t.cardData.price)))]):t._e()])]),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-outline-info btn-sm",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.goSingleProduct(t.cardData.id)}}},[e("i",{staticClass:"fas fa-info d-none d-md-inline-block"}),t._v("\n      查看商品\n    ")]),e("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.addCart(t.cardData.id,1)}}},[t.status.loading?e("i",{staticClass:"fas fa-spinner fa-spin d-none d-md-inline-block"}):e("i",{staticClass:"fas fa-shopping-cart d-none d-md-inline-block"}),t._v("\n      加入購物車\n    ")])])])},i=[],c={data:function(){return{status:{loading:!1}}},props:{cardData:{type:Object,default:function(){return{}}}},methods:{goSingleProduct:function(t){var a=this;console.log(t),a.$router.push("/productDetail/".concat(t))},addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("cloudsu","/cart");e.status.loading=!0;var i={product_id:t,qty:a};this.$http.post(s,{data:i}).then(function(t){console.log(t.data),t.data.success&&(e.$bus.$emit("shopCart:update"),e.$bus.$emit("message:push","【".concat(t.data.data.product.title,"】").concat(t.data.data.qty," ").concat(t.data.data.product.unit," ").concat(t.data.message),"success")),e.status.loading=!1})}}},r=c,o=e("2877"),n=Object(o["a"])(r,s,i,!1,null,null,null);a["a"]=n.exports},efe1:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mt-3"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("img",{attrs:{src:e("12ae"),alt:"",width:"200"}})]),s("div",{staticClass:"swiper-container",attrs:{id:"prodSwiper"}},[s("div",{staticClass:"swiper-wrapper"},t._l(t.filterData,function(t){return s("div",{key:t.id,staticClass:"swiper-slide"},[s("ProductCard",{staticClass:"h-100",attrs:{cardData:t}})],1)}),0)])],1)},i=[],c=e("41d6"),r=e("e915"),o={data:function(){return{products:[],isLoading:!1}},components:{ProductCard:r["a"]},props:{prodCategory:{type:String,default:""},searchFilter:{type:String,default:""},searchResult:{type:Array,default:function(){return[]}}},methods:{getProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("cloudsu","/products/all");t.isLoading=!0,this.$http.get(a).then(function(a){console.log(a.data),a.data.success&&(t.products=a.data.products,t.isLoading=!1,t.showSwiper())})},showSwiper:function(){new c["a"]("#prodSwiper",{slidesPerView:4,slidesPerGroup:4,spaceBetween:10,grabCursor:!0,speed:600,autoplay:{delay:5e3},observer:!0,breakpoints:{480:{slidesPerView:1,slidesPerGroup:1,spaceBetween:20},767:{slidesPerView:2,slidesPerGroup:2,spaceBetween:30},992:{slidesPerView:3,slidesPerGroup:3,spaceBetween:30}},pagination:{el:".swiper-pagination",clickable:!0}})}},computed:{filterData:function(){var t=this;return t.searchFilter||t.searchResult.length?t.searchResult:t.products.filter(function(a){return"all"==t.prodCategory?a:a.category==t.prodCategory})}},created:function(){var t=this;t.getProducts()}},n=o,d=(e("e4fe"),e("2877")),u=Object(d["a"])(n,s,i,!1,null,"7ad2bfe7",null);a["a"]=u.exports}}]);
//# sourceMappingURL=chunk-299a8ab4.489ce898.js.map